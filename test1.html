<form id="contact-form" onsubmit="sendEmail(event);">
    <div class="row g-4">
        <div class="col-lg-12 col-xl-6">
            <div class="form-floating">
                <input type="text" class="form-control" id="name" placeholder="Your Name">
                <label for="name">Name</label>
            </div>
        </div>
        <!-- Add other fields if necessary (e.g., phone, email, message) -->
    </div>
    <button type="submit" id="submit-button" class="btn btn-primary">Send Email</button>
</form>

<script>
// Initialize EmailJS with your public key
emailjs.init("BKtb3JEM_RYUnCLDo");  // Replace with your public key

function sendEmail(event) {
    event.preventDefault(); // Prevent the default form submission

    // Get form values
    const name = document.getElementById("name").value;
    // Add more fields (phone, email, message) as needed

    // Clear any previous error messages
    const errorMessages = document.querySelectorAll(".error-message");
    errorMessages.forEach((msg) => {
        msg.remove();
    });

    const fields = [
        { id: "name", message: "Name is required." },
        // Add other fields if necessary (e.g., phone, email, message)
    ];

    // Flag to track if form is valid
    let formValid = true;

    // Check all fields in one loop
    fields.forEach(field => {
        const fieldValue = document.getElementById(field.id).value;
        const fieldElement = document.getElementById(field.id);
        
        if (!fieldValue) {
            // Display error message inside the input field
            fieldElement.value = field.message;
            fieldElement.style.color = "red";  // Optional: Set text color to red to highlight the error
            formValid = false;
        } else {
            fieldElement.style.color = "";  // Reset text color if the field is valid
        }

        // Remove error message when the field is focused
        fieldElement.addEventListener('focus', function() {
            if (fieldElement.value === field.message) {
                fieldElement.value = '';  // Clear the error message
                fieldElement.style.color = '';  // Reset color
            }
        });
    });

    if (!formValid) {
        return; // Prevent email sending if form is invalid
    }

    // Add logic for sending email after validation
    // For example, you can use emailjs.send here
}
</script>
